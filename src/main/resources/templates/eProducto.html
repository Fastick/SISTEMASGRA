<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">


<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">

	<title>SGRA</title>

	<link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/headers/">
	<link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/offcanvas-navbar/">
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/dt-1.11.0/datatables.min.css" />


</head>


<body>


	<header>

		<nav class="navbar navbar-dark bg-dark fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" th:href="@{/}">
					<img class="rounded-circle" th:src="@{../menu/Icono_Agrocentro.jpg}" width="50" height="50" />
					<span>S G R A</span>
				</a>
<h2 class="text-center text-light">FORMULARIO PRODUCTO</h2>
				<!--BOTON DEL OCULTAR Y APARECER NAVBAR-->
				   <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
      <div sec:authorize="isAuthenticated()">
						<abbr title="Solicitudes Pendientes">
							<span sec:authorize="hasRole('ROLE_ADMIN')" class="badge bg-danger"
								th:text="${cont}"></span>
						</abbr>
					</div>
      <span class="navbar-toggler-icon"></span>
    </button>
      <!--FIN DEL BOTON DEL OCULTAR Y APARECER NAVBAR-->
    
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
      
      <div class="offcanvas-header">
        <img  class="rounded-circle" th:src="@{../img/user.png}" width="50" height="50" />
         <h5 class="offcanvas-title" id="offcanvasNavbarLabel"><span class="text-center" sec:authentication="name"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      
      <div class="offcanvas-body">
      
      <!--Contenido del Navbar-->
      
        <ul class="navbar-nav justify-content-end ">
          					<li sec:authorize="isAuthenticated()">
								<a class="dropdown-item" 
									 th:href="@{/}">
									 <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
									<span class="text-center text-dark">Inicio</span>
								</a>
							</li>
							<li sec:authorize="isAuthenticated()">
								<a class="dropdown-item" sec:authorize="hasRole('ROLE_ADMIN')" 
									 th:href="@{/Reportes}">
									<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><path d="M0,0h24v24H0V0z" fill="none"/></g><g><g><path d="M15,3H5C3.9,3,3.01,3.9,3.01,5L3,19c0,1.1,0.89,2,1.99,2H19c1.1,0,2-0.9,2-2V9L15,3z M8,17c-0.55,0-1-0.45-1-1s0.45-1,1-1 s1,0.45,1,1S8.55,17,8,17z M8,13c-0.55,0-1-0.45-1-1s0.45-1,1-1s1,0.45,1,1S8.55,13,8,13z M8,9C7.45,9,7,8.55,7,8s0.45-1,1-1 s1,0.45,1,1S8.55,9,8,9z M14,10V4.5l5.5,5.5H14z"/></g></g></svg>
									<span class="text-center text-dark">Reportes</span>
								</a>
							</li>
								<li sec:authorize="isAuthenticated()">

								<a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item" th:href="@{/ListarCultivos}">
									<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/><path d="M20.41,8.41l-4.83-4.83C15.21,3.21,14.7,3,14.17,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V9.83 C21,9.3,20.79,8.79,20.41,8.41z M7,7h7v2H7V7z M17,17H7v-2h10V17z M17,13H7v-2h10V13z"/></g></svg>
									<span class="text-center text-dark">Cultivos</span></a>

							</li>
							<li sec:authorize="isAuthenticated()" class="nav-item ">
								<a class="dropdown-item" th:href="@{/ListarProductos}">
									<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/><path d="M20.41,8.41l-4.83-4.83C15.21,3.21,14.7,3,14.17,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V9.83 C21,9.3,20.79,8.79,20.41,8.41z M7,7h7v2H7V7z M17,17H7v-2h10V17z M17,13H7v-2h10V13z"/></g></svg>
									
									<span class="text-center text-dark">Productos</span></a>
							</li>
							<li sec:authorize="isAuthenticated()">
								<a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item" aria-current="page"
									th:href="@{/ListarEnfermedades}">
										<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/><path d="M20.41,8.41l-4.83-4.83C15.21,3.21,14.7,3,14.17,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V9.83 C21,9.3,20.79,8.79,20.41,8.41z M7,7h7v2H7V7z M17,17H7v-2h10V17z M17,13H7v-2h10V13z"/></g></svg>
									
										<span class="text-center text-dark">Enfermedades</span></a>
							</li>
							<li sec:authorize="isAuthenticated()">
								<a class="dropdown-item" type="button" th:href="@{/SeleccionarCultivo}">
									<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="36px" viewBox="0 0 24 24" width="36px" fill="#000000"><g><path d="M0,0h24v24H0V0z" fill="none"/></g><g><path d="M7,9H2V7h5V9z M7,12H2v2h5V12z M20.59,19l-3.83-3.83C15.96,15.69,15.02,16,14,16c-2.76,0-5-2.24-5-5s2.24-5,5-5s5,2.24,5,5 c0,1.02-0.31,1.96-0.83,2.75L22,17.59L20.59,19z M17,11c0-1.65-1.35-3-3-3s-3,1.35-3,3s1.35,3,3,3S17,12.65,17,11z M2,19h10v-2H2 V19z"/></g></svg>
									<span class="text-center text-success">Buscar Receta Agrícola</span>
					
								</a>
							</li>
							<li sec:authorize="isAuthenticated()">
								<a class="dropdown-item" th:href="@{/ListarRecetas}">
									<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"/></svg>
									<span class="text-center text-dark">Recetas Agrícolas - Lista</span></a>
							</li>
								<li sec:authorize="isAuthenticated()">
								<a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item" th:href="@{/ListarUsuarios}">
								<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
									<span class="text-dark">Clientes</span></a>
							</li>
							<li sec:authorize="isAuthenticated()">
								<a class="dropdown-item" th:href="@{/ListarRecetasAsignadas}">
									<div class="row">
									<div class="col">
									<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/></svg>
									
									<span class="text-center text-dark">
									Solicitudes
									
									</span>
									</div>
									<div class="col">
									 <div class="text-center" sec:authorize="isAuthenticated()">
											<abbr title="Solicitudes Pendientes">
												<span sec:authorize="hasRole('ROLE_ADMIN')" class="badge bg-danger"
													th:text="${cont}"></span>
											</abbr>
										</div>
									</div>
									</div>
								</a>
							</li>
								
									<li sec:authorize="!isAuthenticated()">
										<a class="dropdown-item" th:href="@{/login}">
											<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/></g><g><path d="M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z"/></g></svg>
											Iniciar Sesión</a>
									</li>
									<div>
								<li sec:authorize="isAuthenticated()"><a class="dropdown-item">
											<form th:action="@{/logout}" method="POST">
												<button class="dropdown-item" type="submit"
													onclick="return confirm('Esta seguro que desea Cerrar Sesión?');">
												<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></svg>
													Cerrar Sesión
												</button>
											</form>
										</a></li>
									</div>
         
        </ul>
    
						
					
							
        
      </div>
    </div>
  </div>
</nav>

		<br><br><br>

		<style>
			.zoom {
				transition: transform .3s;
			}

			.zoom:hover {
				transform: scale(2.5);
			}

			.text-justify {
				text-align: justify;
			}
		</style>



	</header>



<div class="modal-body p-5 pt-0">
<div class="container py-2 h-500">
			<div class="row d-flex justify-content-center align-items-center h-100">
			

		



			<form class="needs-validation" th:action="@{/saveEditarProducto}" th:object=${Producto} method="POST"
				enctype="multipart/form-data">


				<div class="form-floating mb-3">
					<input th:field="*{idproducto}" type="hidden">

				</div>

				<div class="form-floating mb-3">
					<input th:field="*{nombre_producto}" id="nombre_producto" onchange="condicion()" type="text"
						style="text-transform:uppercase;" onkeyup="javascript:this.value=this.value.toUpperCase();"
						class="form-control rounded-4" required>
					<label for="floatingInput">Nombre del Producto</label>


				</div>
			

				<div class="form-floating mb-3">
					<input th:field="*{detalles}" id="detalles" onchange="condicion()" type="text"
						class="form-control rounded-4" required>
					<label for="floatingInput">Detalles</label>


				</div>
				<div>
					<input class="form-control bg-info" type="file" name="file" />
				</div>


				<br>


				<div class="form-floating mb-3">
					<div class="row">
						<div class="col">
							<div class="form-floating mb-3">
								<input th:field="*{contenido}" id="contenido" onchange="condicion()" type="number"
									step="0.5" min="1" max="1000" class="form-control" required>
								<label for="floatingInput">Contenido:</label>
							</div>
						</div>
						<div class="col">
							<div class="form-floating mb-3">
								<select class="form-control" th:field="*{unidad}" id="unidad" onchange="condicion()"
									required>
									<option value="Seleccion" id="seleccion" onchange="condicion()" hidden="false">
										Seleccione la unidad</option>
									<option value="Gramos" id="g" onchange="condicion()" hidden="false"> G Gramos
									</option>
									<option value="Kilogramos" id="kg" onchange="condicion()" hidden="false">KG
										Kilogramos</option>
									<option value="Centímetros cúbicos" id="cc" onchange="condicion()" hidden="false">Cc
										Centímetros cúbicos</option>
									<option value="Mililitros" id="ml" onchange="condicion()" hidden="false">Ml
										Mililitros</option>
									<option value="Litros" id="l" onchange="condicion()" hidden="false">L Litro</option>
									<option value="Galón" id="gal" onchange="condicion()" hidden="false">Gal Galón
									</option>

								</select>
								<label for="floatingInput">unidad:</label>
							</div>
						</div>
					</div>
				</div>

				<div class="form-floating mb-3">
					<select class="form-control" th:field="*{tipoproducto}" required>
						<option value="REGULADOR PH">REGULADOR PH</option>
						<option value="FUNGICIDA">FUNGICIDA</option>
						<option value="FERTILIZANTE FOLIAR">FERTILIZANTE FOLIAR</option>
						<option value="INSECTICIDA">INSECTICIDA</option>
						<option value="FIJADOR">FIJADOR</option>
						<option value="HIDROSOLUBLE">HIDROSOLUBLE</option>
						<option value="FERTILIZANTE EDÁFICO">FERTILIZANTE EDÁFICO</option>
						<option value="HERBICIDA">HERBICIDA</option>

					</select>
					<label for="floatingInput">Tipo de Producto</label>

				</div>




				<div class="form-floating mb-3">
					<input th:field="*{costo}" id="costo" onchange="condicion()" type="number" step="0.01" min="0.01"
						max="200" class="form-control rounded-4" required disabled>
					<label for="floatingInput">Costo</label>

				</div>


 <div class="row text-center ">
						<div class="col">
							<button type="submit" class="form-control btn btn-outline-primary"  id="fin" onchange="condicion()">
								<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
									<path d="M0 0h24v24H0z" fill="none" />
									<path
										d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" />
								</svg>
								Guardar</button>
						</div>
						<div class="col">
					
							<a class="form-control btn btn-outline-danger" th:href="@{/ListarProductos}"
								onclick="return confirm('Esta seguro que desea salir del formulario?');">
								<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
									<path d="M0 0h24v24H0z" fill="none" />
									<path
										d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
								</svg>
								Cancelar</a>
						</div>
			      
			

					
				

			</form>
		</div>

	</div>
	</div>
	</div>
	<!--Fin Formulario Productos-->


	</main>


	<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.min.js"></script>
	<script>
		function condicion() {

			var unidad = document.getElementById('unidad').value;
			var contenido = document.getElementById('contenido').value;
			var costo = document.getElementById('costo').value;
			var nombre = document.getElementById('nombre_producto').value;

			var max = 0;
			var min = 0;

			document.getElementById('fin').disabled = false;
			if ((contenido > 0) && (contenido < 1001)) {

				if ((contenido > 0) && (contenido < 11)) {
					document.getElementById('g').hidden = true;
					document.getElementById('ml').hidden = true;
					document.getElementById('cc').hidden = true;
					document.getElementById('kg').hidden = false;
					document.getElementById('l').hidden = false;
					document.getElementById('gal').hidden = false;
					min = (contenido * 1);
					max = (contenido * 31);

				}



				if ((contenido > 10) && (contenido < 1001)) {

					document.getElementById('g').hidden = false;
					document.getElementById('ml').hidden = false;
					document.getElementById('cc').hidden = false;
					document.getElementById('kg').hidden = true;
					document.getElementById('l').hidden = true;
					document.getElementById('gal').hidden = true;
					min = (contenido * 0.0025);
					max = (contenido * 0.1);

				}



				document.getElementById('costo').disabled = false;



			}

			if ((contenido) && (unidad == 'Seleccion') && (contenido > 0) && (contenido < 1001)) {
				window.alert('Seleccione la unidad');
			}
			if ((contenido) && (unidad == 'Gramos') && (contenido > 0) && (contenido < 11)) {
				window.alert('Seleccione la unidad');
			}
			if ((contenido) && (unidad == 'Centímetros cubicos') && (contenido > 0) && (contenido < 11)) {
				window.alert('Seleccione la unidad');
			}
			if ((contenido) && (unidad == 'Mililitros') && (contenido > 0) && (contenido < 11)) {
				window.alert('Seleccione la unidad');
			}



			if ((contenido) && (unidad == 'Kilogramos') && (contenido > 10) && (contenido < 1001)) {
				window.alert('Seleccione la unidad');
			}
			if ((contenido) && (unidad == 'Litros') && (contenido > 10) && (contenido < 1001)) {
				window.alert('Seleccione la unidad');
			}
			if ((contenido) && (unidad == 'Galón') && (contenido > 10) && (contenido < 1001)) {
				window.alert('Seleccione la unidad');
			}



			if ((costo) && (nombre) && (unidad) && (contenido > 0) && (contenido < 1001)) {

				if ((costo) && (costo <= max) && (costo >= min)) {
					window.alert('Valor aceptado');
					document.getElementById('fin').disabled = false;
				} else {
					window.alert('El costo debe estar entre ' + min + ' y ' + max + ' USD ');
					document.getElementById('fin').disabled = true;
					document.getElementById("costo").value = 0;
				}




			}
			if ((contenido < 1) && (contenido > 1000)) {
				window.alert('Ingrese un valor entre 1 - 1000');
			}
		}

	</script>

	<script>
		$(document).ready(function () {
			condicion();
			$('#tablaproducto').DataTable({
				"language": {
					"url": "//cdn.datatables.net/plug-ins/1.10.16/i18n/Spanish.json"
				},
			});
		});


	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
		crossorigin="anonymous"></script>

</body>

</html>